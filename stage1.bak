	ORG 0x7C00

	jmp short rm_start
	nop

	oem_id			db	"pseudoOS"
	BytesPerSector		dw	0x0200
	SectorsPerCluster	db	0x08
	ReservedSectors		dw	0x0020
	TotalFATs		db	0x02
	MaxRootEntries		dw	0x0000
	NumberOfSectors		dw	0x0000
	MediaDescriptor		db	0xF8
	SectorsPerFat		dw	0x0000
	SectorsPerTrack		dw	0x003F
	SectorsPerHead		dw	0x00FF
	HiddenSectors		dd	0x00000000
	TotalSectors		dd	0x00400000
	BigSectorsPerFAT	dd	0x00000FF8
	Flags			dw	0x0000
	FSVersion		dw	0x0000
	RootDirectoryStart	dd	0x00000002
	FSInfoSector		dw	0x0001
	BackupBootSector	dw	0x0006
	TIMES 12 db 0
	DriveNumber		db	0x80
	ReservedByte		db	0x01
	Signature		db	0x29
	VolumeID		dd	0xFFFFFFFF
	VolumeLabel		db	"QUASI  BOOT"
	SystemID		db	"FAT32   "

rm_start:
	lea SI, [msgLoading]

	mov AH, 0x0E
print:
	mov AL, [SI]
	test AL, AL
	jz done
	int 0x10
	inc SI
	jmp print

done:
	xor ah, ah
	int 0x16

	mov AX, 0x0040
	mov DS, AX
	mov WORD[0x0072], 0x0000
	jmp 0xFFFF:0x0000

	msgLoading db "Stage 1", 0x00

	TIMES 510 - ($-$$) DB 0
	DW 0xAA55
